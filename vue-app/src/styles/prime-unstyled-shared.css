@layer overrides {
  .p-component {
    font-family: var(--ft-font-base);
    color: var(--ft-text-primary);
  }

  /* Overlay structure for unstyled mode */
  .p-overlay-mask,
  .p-component-overlay,
  .ui-dialog__mask,
  .ui-drawer__mask {
    position: fixed;
    inset: 0;
    background: var(--ft-bg-overlay);
    backdrop-filter: blur(2px);
  }

  .p-dialog-mask,
  .ui-dialog__mask {
    z-index: var(--ft-z-modal);

    display: flex;
    align-items: center;
    justify-content: center;

    padding: var(--ft-space-4);
  }

  .p-drawer-mask,
  .ui-drawer__mask {
    z-index: var(--ft-z-drawer);
  }

  .p-dialog,
  .ui-dialog__root,
  .p-confirm-dialog,
  .ui-confirm-dialog__root {
    overflow: hidden;

    max-width: calc(100vw - (var(--ft-space-4) * 2));
    max-height: calc(100vh - (var(--ft-space-4) * 2));

    color: var(--ft-text-primary);

    background: var(--ft-surface-raised);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-lg);
    box-shadow: var(--ft-shadow-lg);
  }

  .p-button {
    cursor: pointer;

    display: inline-flex;
    gap: var(--ft-space-2);
    align-items: center;
    justify-content: center;

    min-height: var(--ft-button-height-sm);
    padding: 0 var(--ft-space-4);

    font-size: var(--ft-text-sm);
    font-weight: var(--ft-font-semibold);
    color: var(--ft-text-inverse);

    background: var(--ft-primary-500);
    border: 1px solid var(--ft-primary-500);
    border-radius: var(--ft-radius-lg);

    transition:
      transform var(--ft-transition-fast),
      box-shadow var(--ft-transition-fast),
      background-color var(--ft-transition-fast),
      border-color var(--ft-transition-fast),
      color var(--ft-transition-fast);
  }

  .p-button:not(:disabled):hover {
    background: var(--ft-primary-600);
    border-color: var(--ft-primary-600);
  }

  .p-button.p-button-secondary,
  .p-button.p-button-outlined {
    color: var(--ft-text-primary);
    background: transparent;
    border-color: var(--ft-border-default);
  }

  .p-button.p-button-text,
  .p-button.p-button-link {
    color: var(--ft-text-primary);
    background: transparent;
    border-color: transparent;
  }

  .p-button.p-button-danger {
    color: var(--ft-text-inverse);
    background: var(--ft-danger-500);
    border-color: var(--ft-danger-500);
  }

  .p-button.p-button-danger:not(:disabled):hover {
    background: var(--ft-danger-600);
    border-color: var(--ft-danger-600);
  }

  .p-button.p-button-success {
    color: var(--ft-text-inverse);
    background: var(--ft-success-500);
    border-color: var(--ft-success-500);
  }

  .p-button:disabled {
    cursor: not-allowed;
    opacity: 0.65;
  }

  .ui-button:focus-visible,
  .p-button:focus-visible,
  .ui-input:focus-visible,
  .p-inputtext:focus-visible,
  .ui-input-number__root:focus-within,
  .p-inputnumber-input:focus-visible,
  .ui-select__root:focus-within,
  .p-select:focus-within,
  .ui-date-picker__root:focus-within,
  .p-datepicker:focus-within,
  .ui-select-button__button:focus-visible,
  .p-selectbutton .p-button:focus-visible,
  .ui-checkbox__root:has(.ui-checkbox__input:focus-visible) .ui-checkbox__box,
  .p-checkbox:has(.p-checkbox-input:focus-visible) .p-checkbox-box,
  .ui-toggle-switch__root:has(.ui-toggle-switch__input:focus-visible) .ui-toggle-switch__slider,
  .p-toggleswitch:has(input:focus-visible) .p-toggleswitch-slider {
    outline: 3px solid var(--ft-focus-ring);
    outline-offset: 3px;
  }

  .ui-input-number__root,
  .ui-select__root,
  .ui-date-picker__root,
  .p-inputtext,
  .p-inputnumber,
  .p-select,
  .p-datepicker,
  .p-inputtextarea {
    align-items: center;

    width: 100%;
    min-height: var(--ft-control-height);

    font-size: var(--ft-text-base);
    color: var(--ft-text-primary);

    background: var(--ft-surface-base);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-lg);

    transition:
      border-color var(--ft-transition-fast),
      background-color var(--ft-transition-fast),
      box-shadow var(--ft-transition-fast);
  }

  .ui-input,
  .ui-input-number__root,
  .ui-select__root,
  .ui-date-picker__root,
  .p-inputnumber,
  .p-select,
  .p-datepicker {
    overflow: hidden;
    display: flex;
  }

  .ui-input,
  .p-inputtext {
    padding: 0 var(--ft-space-4);
    line-height: var(--ft-leading-tight);
  }

  .p-inputtextarea {
    padding: var(--ft-space-3) var(--ft-space-4);
    line-height: var(--ft-leading-normal);
  }

  .ui-input-number__input,
  .ui-select__label,
  .ui-date-picker__input,
  .p-inputnumber-input,
  .p-select-label,
  .p-datepicker-input {
    width: 100%;
    min-height: calc(var(--ft-control-height) - 2px);
    padding: 0 var(--ft-space-4);

    font-size: var(--ft-text-base);
    line-height: var(--ft-leading-tight);
    color: var(--ft-text-primary);

    background: transparent;
    border: 0;
    outline: 0;
  }

  .ui-input-number__input,
  .p-inputnumber-input {
    font-variant-numeric: tabular-nums;
  }

  .ui-select__label,
  .p-select-label {
    overflow: hidden;
    display: flex;
    align-items: center;

    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .ui-select__dropdown,
  .ui-date-picker__dropdown,
  .p-select-dropdown,
  .p-datepicker-dropdown {
    display: inline-flex;
    align-items: center;
    align-self: stretch;
    justify-content: center;

    min-width: calc(var(--ft-control-height) - 2px);
    padding: 0 var(--ft-space-3);

    color: var(--ft-text-secondary);

    background: transparent;
    border: 0;
    border-inline-start: 1px solid var(--ft-border-soft);
  }

  .ui-select__dropdown svg,
  .ui-date-picker__dropdown svg,
  .p-select-dropdown svg,
  .p-datepicker-dropdown svg {
    width: 1rem;
    height: 1rem;
  }

  .ui-input::placeholder,
  .ui-input-number__input::placeholder,
  .ui-date-picker__input::placeholder,
  .p-inputtext::placeholder,
  .p-inputtextarea::placeholder,
  .p-inputnumber-input::placeholder,
  .p-datepicker-input::placeholder {
    color: var(--ft-text-secondary);
    opacity: 0.8;
  }

  .ui-input:disabled,
  .ui-input-number__input:disabled,
  .ui-date-picker__input:disabled,
  .p-inputtext:disabled,
  .p-inputnumber-input:disabled,
  .p-select.p-disabled,
  .p-datepicker.p-disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  .ui-input.ui-field--invalid,
  .ui-input-number__root.ui-field--invalid,
  .ui-select__root.ui-field--invalid,
  .ui-date-picker__root.ui-field--invalid,
  .p-inputtext.p-invalid,
  .p-inputnumber.p-invalid,
  .p-select.p-invalid,
  .p-datepicker.p-invalid,
  .p-inputtext[aria-invalid='true'],
  .p-inputnumber[aria-invalid='true'],
  .p-select[aria-invalid='true'],
  .p-datepicker[aria-invalid='true'] {
    border-color: var(--ft-danger-500);
    box-shadow: 0 0 0 1px color-mix(in srgb, var(--ft-danger-500) 18%, transparent);
  }

  .ui-select__root.ui-field--invalid .ui-select__dropdown,
  .ui-date-picker__root.ui-field--invalid .ui-date-picker__dropdown,
  .p-select.p-invalid .p-select-dropdown,
  .p-select[aria-invalid='true'] .p-select-dropdown,
  .p-datepicker.p-invalid .p-datepicker-dropdown,
  .p-datepicker[aria-invalid='true'] .p-datepicker-dropdown {
    border-inline-start-color: color-mix(in srgb, var(--ft-danger-500) 42%, var(--ft-border-soft));
  }

  .ui-select-button__root,
  .p-selectbutton {
    display: inline-flex;
    flex-wrap: wrap;
    gap: var(--ft-space-1);
    width: 100%;
  }

  .ui-select-button__button,
  .p-selectbutton .p-togglebutton {
    cursor: pointer;

    display: inline-flex;
    flex: 1;
    align-items: center;
    justify-content: center;

    min-height: var(--ft-control-height);
    padding: 0 var(--ft-space-3);

    color: var(--ft-text-secondary);

    background: var(--ft-surface-base);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-lg);

    transition:
      border-color var(--ft-transition-fast),
      color var(--ft-transition-fast),
      background-color var(--ft-transition-fast);
  }

  .ui-select-button__button:hover,
  .p-selectbutton .p-togglebutton:hover {
    color: var(--ft-text-primary);
    background: var(--ft-surface-overlay);
    border-color: var(--ft-border-strong);
  }

  .ui-select-button__button.p-togglebutton-checked,
  .ui-select-button__button[data-p-checked='true'],
  .p-selectbutton .p-togglebutton.p-togglebutton-checked,
  .p-selectbutton .p-togglebutton[data-p-checked='true'] {
    color: var(--ft-text-inverse);
    background: var(--ft-primary-500);
    border-color: var(--ft-primary-500);
  }

  .ui-select-button__button.p-disabled,
  .p-selectbutton .p-togglebutton.p-disabled {
    cursor: not-allowed;
    opacity: 0.65;
  }

  .ui-select-overlay,
  .p-select-overlay,
  .ui-date-picker-overlay,
  .p-datepicker-panel,
  .ui-menu__root,
  .p-menu,
  .ui-toast__message,
  .p-toast-message,
  .ui-message__root,
  .p-message,
  .ui-paginator__root,
  .p-paginator {
    color: var(--ft-text-primary);

    background: var(--ft-surface-raised);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-lg);
    box-shadow: var(--ft-shadow-md);
  }

  .ui-select-overlay,
  .p-select-overlay,
  .ui-date-picker-overlay,
  .p-datepicker-panel {
    isolation: isolate;
    overflow: hidden;
    opacity: 1;
  }

  .ui-select-overlay,
  .p-select-overlay {
    min-width: 12rem;
  }

  .ui-select__list-container,
  .p-select-list-container {
    scrollbar-color: var(--ft-scrollbar-thumb) var(--ft-scrollbar-track);
    scrollbar-width: thin;

    overflow: auto;

    max-height: min(18rem, 45vh);
    padding: var(--ft-space-2);

    background: var(--ft-surface-raised);
  }

  :where(
      .ui-select__list-container,
      .p-select-list-container,
      .ui-date-picker__calendar-container,
      .p-datepicker-calendar-container,
      .ui-menu__list,
      .p-menu .p-menu-list
    )::-webkit-scrollbar {
    width: var(--ft-scrollbar-size);
    height: var(--ft-scrollbar-size);
  }

  :where(
      .ui-select__list-container,
      .p-select-list-container,
      .ui-date-picker__calendar-container,
      .p-datepicker-calendar-container,
      .ui-menu__list,
      .p-menu .p-menu-list
    )::-webkit-scrollbar-track {
    background: var(--ft-scrollbar-track);
    border-radius: var(--ft-radius-full);
  }

  :where(
      .ui-select__list-container,
      .p-select-list-container,
      .ui-date-picker__calendar-container,
      .p-datepicker-calendar-container,
      .ui-menu__list,
      .p-menu .p-menu-list
    )::-webkit-scrollbar-thumb {
    background: var(--ft-scrollbar-thumb);
    border: 2px solid var(--ft-scrollbar-track);
    border-radius: var(--ft-radius-full);
  }

  :where(
      .ui-select__list-container,
      .p-select-list-container,
      .ui-date-picker__calendar-container,
      .p-datepicker-calendar-container,
      .ui-menu__list,
      .p-menu .p-menu-list
    )::-webkit-scrollbar-thumb:hover {
    background: var(--ft-scrollbar-thumb-hover);
  }

  :where(
      .ui-select__list-container,
      .p-select-list-container,
      .ui-date-picker__calendar-container,
      .p-datepicker-calendar-container,
      .ui-menu__list,
      .p-menu .p-menu-list
    )::-webkit-scrollbar-thumb:active {
    background: var(--ft-scrollbar-thumb-active);
  }

  .ui-select__list,
  .p-select-list {
    display: grid;
    gap: 2px;

    margin: 0;
    padding: 0;

    list-style: none;
  }

  .ui-select__option,
  .p-select-option {
    cursor: pointer;

    overflow: hidden;
    display: flex;
    gap: var(--ft-space-2);
    align-items: center;

    min-height: 2.5rem;
    padding: var(--ft-space-2) var(--ft-space-3);

    font-size: var(--ft-text-base);
    color: var(--ft-text-primary);

    border-radius: var(--ft-radius-md);
  }

  .ui-select__option-label,
  .p-select-option-label {
    overflow: hidden;
    flex: 1;

    min-width: 0;

    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .ui-select__option[data-p-focused='true'],
  .ui-select__option:hover,
  .p-select-option.p-focus,
  .p-select-option:hover {
    background: color-mix(in srgb, var(--ft-primary-500) 12%, transparent);
  }

  .ui-select__option[data-p-selected='true'],
  .p-select-option.p-select-option-selected {
    font-weight: var(--ft-font-medium);
    background: color-mix(in srgb, var(--ft-primary-500) 20%, transparent);
  }

  .ui-select__option[data-p-disabled='true'],
  .p-select-option.p-disabled {
    cursor: not-allowed;
    opacity: 0.55;
  }

  .ui-select__empty-message,
  .p-select-empty-message {
    padding: var(--ft-space-3);
    font-size: var(--ft-text-sm);
    color: var(--ft-text-secondary);
  }

  .ui-menu__list,
  .p-menu .p-menu-list,
  .ui-menu__item,
  .p-menu .p-menu-item,
  .ui-menu__item-content,
  .p-menu .p-menuitem-content {
    margin: 0;
    padding: 0;
    list-style: none;
    background: transparent;
  }

  .ui-menu__item-link,
  .p-menu .p-menuitem-link {
    display: flex;
    gap: var(--ft-space-2);
    align-items: center;

    padding: var(--ft-space-2) var(--ft-space-3);

    color: var(--ft-text-primary);

    border-radius: var(--ft-radius-md);
  }

  .ui-date-picker-overlay,
  .p-datepicker-panel {
    overflow: hidden;
    min-width: min(300px, calc(100vw - (var(--ft-space-6) * 2)));
    max-width: min(320px, calc(100vw - (var(--ft-space-6) * 2)));
    padding: var(--ft-space-2);
  }

  .ui-date-picker__calendar-container,
  .p-datepicker-calendar-container {
    padding: var(--ft-space-1) var(--ft-space-2) var(--ft-space-2);
  }

  .ui-date-picker__header,
  .p-datepicker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;

    margin-bottom: var(--ft-space-2);
    padding: var(--ft-space-2) var(--ft-space-3);

    border-bottom: 1px solid var(--ft-border-soft);
  }

  .ui-date-picker__title,
  .p-datepicker-title {
    display: inline-flex;
    gap: var(--ft-space-2);
    align-items: center;
  }

  .ui-date-picker__calendar,
  .p-datepicker-calendar {
    border-spacing: 0.25rem;
    border-collapse: separate;
    width: 100%;
  }

  .ui-date-picker__calendar th,
  .p-datepicker-calendar th {
    padding: var(--ft-space-1);

    font-size: var(--ft-text-xs);
    font-weight: var(--ft-font-medium);
    color: var(--ft-text-secondary);
    text-align: center;
  }

  .ui-date-picker__day,
  .p-datepicker-day,
  .ui-date-picker__calendar td > span,
  .p-datepicker-calendar td > span {
    display: grid;
    place-items: center;

    width: 2.25rem;
    height: 2.25rem;
    margin: 0 auto;

    font-size: var(--ft-text-sm);
    color: var(--ft-text-primary);

    border-radius: var(--ft-radius-md);
  }

  .ui-date-picker__day:not([data-p-disabled='true']):hover,
  .ui-date-picker__calendar td > span:not([data-p-disabled='true']):hover,
  .p-datepicker-day:not(.p-disabled):hover,
  .p-datepicker-calendar td > span:not(.p-disabled):hover {
    background: color-mix(in srgb, var(--ft-primary-500) 14%, transparent);
  }

  .ui-date-picker__day[data-p-selected='true'],
  .p-datepicker-day-selected,
  .p-datepicker-day-selected-range,
  .p-datepicker-calendar td > span.p-highlight {
    color: var(--ft-text-inverse);
    background: var(--ft-primary-500);
  }

  .ui-date-picker__day[data-p-disabled='true'],
  .p-datepicker-day.p-disabled {
    opacity: 0.5;
  }

  .ui-date-picker__buttonbar,
  .p-datepicker-buttonbar {
    display: flex;
    gap: var(--ft-space-2);
    justify-content: flex-end;

    margin-top: var(--ft-space-2);
    padding-top: var(--ft-space-2);

    border-top: 1px solid var(--ft-border-soft);
  }

  .ui-menu__item-link:hover,
  .ui-menu__item-content:hover,
  .p-menu .p-menuitem-link:hover,
  .p-menu .p-menuitem-content:hover {
    background: color-mix(in srgb, var(--ft-primary-500) 12%, transparent);
  }

  .ui-dialog__content,
  .p-dialog .p-dialog-content,
  .ui-confirm-dialog__content,
  .p-confirm-dialog .p-dialog-content {
    overflow: auto;
    background: var(--ft-surface-raised);
  }

  [role='tooltip'],
  .p-tooltip {
    pointer-events: none;
    position: absolute;
    z-index: var(--ft-z-tooltip);
    max-width: min(320px, calc(100vw - (var(--ft-space-4) * 2)));
  }

  [role='tooltip'] > [data-pc-section='arrow'],
  [role='tooltip'] > .p-tooltip-arrow,
  [role='tooltip'] > div:first-child {
    display: none;
  }

  [role='tooltip'] > [data-pc-section='text'],
  [role='tooltip'] > .p-tooltip-text,
  [role='tooltip'] > div:last-child {
    padding: var(--ft-space-2) var(--ft-space-3);

    font-size: var(--ft-text-sm);
    line-height: var(--ft-leading-normal);
    color: var(--ft-text-primary);

    background: var(--ft-surface-raised);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-md);
    box-shadow: var(--ft-shadow-md);
  }

  .ui-dialog__footer,
  .ui-confirm-dialog__footer,
  .p-dialog .p-dialog-footer,
  .p-confirm-dialog .p-dialog-footer {
    display: flex;
    gap: var(--ft-space-2);
    justify-content: flex-end;
  }

  .p-message {
    padding: var(--ft-space-3);
  }

  .p-message.p-message-error {
    border-color: color-mix(in srgb, var(--ft-danger-500) 35%, transparent);
  }

  .p-message.p-message-info {
    border-color: color-mix(in srgb, var(--ft-info-500) 35%, transparent);
  }

  .p-tag {
    display: inline-flex;
    gap: var(--ft-space-1);
    align-items: center;

    padding: var(--ft-space-1) var(--ft-space-3);

    font-size: var(--ft-text-xs);
    font-weight: var(--ft-font-medium);

    border-radius: var(--ft-radius-full);
  }

  .ui-paginator__root,
  .p-paginator {
    display: flex;
    flex-wrap: wrap;
    gap: var(--ft-space-2);
    align-items: center;
    justify-content: center;

    padding: var(--ft-space-2) var(--ft-space-3);
  }

  .ui-paginator__content,
  .p-paginator-content {
    display: flex;
    flex-wrap: wrap;
    gap: var(--ft-space-1);
    align-items: center;
    justify-content: center;
  }

  .ui-paginator__pages,
  .p-paginator-pages {
    display: inline-flex;
    gap: var(--ft-space-1);
    align-items: center;
  }

  .ui-paginator__nav,
  .ui-paginator__page-button,
  .p-paginator-first,
  .p-paginator-prev,
  .p-paginator-next,
  .p-paginator-last,
  .p-paginator-page {
    cursor: pointer;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    min-width: 2.25rem;
    height: 2.25rem;
    padding: 0 var(--ft-space-2);

    color: var(--ft-text-secondary);

    background: var(--ft-surface-base);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-md);

    transition:
      border-color var(--ft-transition-fast),
      color var(--ft-transition-fast),
      background-color var(--ft-transition-fast);
  }

  .ui-paginator__nav:hover,
  .ui-paginator__page-button:hover,
  .p-paginator-first:hover,
  .p-paginator-prev:hover,
  .p-paginator-next:hover,
  .p-paginator-last:hover,
  .p-paginator-page:hover {
    color: var(--ft-text-primary);
    background: var(--ft-surface-overlay);
    border-color: var(--ft-border-strong);
  }

  .ui-paginator__page-button.p-paginator-page-selected,
  .p-paginator-page.p-paginator-page-selected {
    color: var(--ft-text-inverse);
    background: var(--ft-primary-500);
    border-color: var(--ft-primary-500);
  }

  .ui-paginator__current,
  .p-paginator-current {
    font-size: var(--ft-text-sm);
    color: var(--ft-text-secondary);
  }

  .ui-paginator__rows,
  .p-paginator-rpp-dropdown {
    min-width: 5.25rem;
    margin-inline-start: var(--ft-space-1);
  }

  .p-paginator .p-disabled,
  .p-paginator .p-disabled:hover {
    cursor: not-allowed;

    color: var(--ft-text-disabled);

    opacity: 0.7;
    background: var(--ft-surface-base);
    border-color: var(--ft-border-soft);
  }

  .ui-chart__root,
  .p-chart {
    position: relative;
    width: 100%;
  }

  .ui-chart__canvas {
    display: block;
    width: 100%;
    max-width: 100%;
  }

  .ui-drawer__root,
  .p-drawer {
    color: var(--ft-text-primary);
    background: var(--ft-surface-raised);
    border-inline-end: 1px solid var(--ft-border-default);
    box-shadow: var(--ft-shadow-lg);
  }

  .ui-drawer__content,
  .p-drawer .p-drawer-content {
    padding: 0;
  }

  /* Feature-level Prime visual overrides centralized from pages/components */
  .accounts-search .p-inputtext,
  .filter-input .p-inputtext,
  .transaction-filters__search .p-inputtext {
    flex: 1;

    width: 100%;
    padding: 0;
    padding-left: 0;

    background: transparent;
    border: none;
    box-shadow: none !important;
  }

  .accounts-search .p-inputtext:focus,
  .filter-input .p-inputtext:focus,
  .transaction-filters__search .p-inputtext:focus {
    border: none !important;
    outline: none;
    box-shadow: none !important;
  }

  .txn-list__footer .p-paginator {
    padding: var(--ft-space-2);
    background: transparent;
    border: none;
  }

  .categories-toggle .p-button {
    min-height: 36px;
    padding: 0 var(--ft-space-4);
    font-size: var(--ft-text-sm);
  }

  .txn-dialog .p-dialog {
    border-radius: var(--ft-radius-xl);
  }

  .txn-dialog .p-dialog-content {
    border-radius: inherit;
  }

  .txn-form__type-control .p-togglebutton {
    flex: 1;

    min-height: var(--ft-control-height);

    color: var(--ft-text-secondary);

    background: transparent;
    border: 1px solid transparent;
    border-radius: var(--ft-radius-md);
  }

  .txn-form__type-control .p-togglebutton:focus-visible {
    outline: none;
  }

  .txn-form__type-control .p-togglebutton.p-togglebutton-checked {
    color: var(--ft-text-primary);
    background: color-mix(in srgb, var(--ft-primary-500) 12%, var(--ft-surface-base));
    border-color: color-mix(in srgb, var(--ft-primary-400) 36%, var(--ft-border-default));
    box-shadow: none;
  }

  .txn-form__type-control .p-togglebutton:nth-of-type(1).p-togglebutton-checked {
    color: var(--ft-text-primary);
    background: color-mix(in srgb, var(--ft-danger-500) 16%, var(--ft-surface-base));
    border-color: color-mix(in srgb, var(--ft-danger-400) 48%, var(--ft-border-default));
  }

  .txn-form__type-control .p-togglebutton:nth-of-type(2).p-togglebutton-checked {
    color: var(--ft-text-primary);
    background: color-mix(in srgb, var(--ft-success-500) 16%, var(--ft-surface-base));
    border-color: color-mix(in srgb, var(--ft-success-400) 48%, var(--ft-border-default));
  }

  .txn-form__amount-shell:has(.ui-input-number__root.ui-field--invalid),
  .txn-form__amount-shell:has(.p-inputnumber.p-invalid),
  .txn-form__amount-shell:has(.p-inputnumber[aria-invalid='true']) {
    border-color: var(--ft-danger-500);
  }

  .txn-form__amount-input .ui-input-number__input:focus,
  .txn-form__amount-input .ui-input-number__input:focus-visible,
  .txn-form__amount-input .p-inputnumber-input.p-inputtext:focus,
  .txn-form__amount-input .p-inputnumber-input.p-inputtext:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .txn-form__amount-input .ui-input-number__input,
  .txn-form__amount-input .p-inputnumber-input.p-inputtext {
    width: 100%;
    min-width: 0;
    padding: 0;

    font-family: var(--ft-font-mono);
    font-size: var(--ft-text-3xl);
    font-weight: var(--ft-font-semibold);
    text-align: center;

    background: transparent;
    border: none;
    box-shadow: none;
  }

  .app-shell__drawer-mobile .p-drawer {
    width: 300px;
    background: linear-gradient(
      180deg,
      var(--ft-surface-raised),
      color-mix(in srgb, var(--ft-surface-base) 90%, var(--ft-surface-raised))
    );
    border-right: 1px solid var(--ft-border-default);
    box-shadow: 4px 0 24px rgb(0 0 0 / 15%);
  }

  .app-shell__drawer-mobile .p-drawer-header {
    padding: var(--ft-space-6) var(--ft-space-5) var(--ft-space-4);
    border-bottom: 1px solid var(--ft-border-subtle);
  }

  .app-shell__drawer-mobile .p-drawer-content {
    display: flex;
    flex-direction: column;
    padding: var(--ft-space-4) var(--ft-space-5);
  }

  .ui-toast__root,
  .p-toast {
    z-index: var(--ft-z-toast);

    display: grid;
    gap: var(--ft-space-2);

    width: min(420px, calc(100vw - (var(--ft-space-4) * 2)));
    min-width: min(420px, calc(100vw - (var(--ft-space-4) * 2)));
  }

  .ui-toast__message,
  .p-toast .p-toast-message {
    overflow: hidden;
    padding: var(--ft-space-3);
    border-inline-start: 3px solid var(--ft-border-default);
  }

  .ui-toast__message[data-p~='success'],
  .p-toast .p-toast-message.p-toast-message-success {
    border-inline-start-color: var(--ft-success-500);
  }

  .ui-toast__message[data-p~='info'],
  .p-toast .p-toast-message.p-toast-message-info {
    border-inline-start-color: var(--ft-info-500);
  }

  .ui-toast__message[data-p~='warn'],
  .p-toast .p-toast-message.p-toast-message-warn {
    border-inline-start-color: var(--ft-warning-500);
  }

  .ui-toast__message[data-p~='error'],
  .p-toast .p-toast-message.p-toast-message-error {
    border-inline-start-color: var(--ft-danger-500);
  }

  .ui-toast__message-content,
  .p-toast .p-toast-message-content {
    display: grid;
    grid-template-columns: auto minmax(0, 1fr) auto;
    gap: var(--ft-space-2);
    align-items: flex-start;
  }

  .ui-toast__message-icon,
  .p-toast .p-toast-message-icon {
    margin-top: 0.125rem;
    font-size: 1rem;
    color: var(--ft-text-secondary);
  }

  .ui-toast__message-text,
  .p-toast .p-toast-message-text {
    display: grid;
    gap: var(--ft-space-1);
    min-width: 0;
  }

  .ui-toast__summary,
  .p-toast .p-toast-summary {
    font-size: var(--ft-text-base);
    font-weight: var(--ft-font-semibold);
    line-height: var(--ft-leading-tight);
  }

  .ui-toast__detail,
  .p-toast .p-toast-detail {
    margin: 0;
    font-size: var(--ft-text-sm);
    line-height: var(--ft-leading-normal);
    color: var(--ft-text-secondary);
  }

  .ui-toast__button-container,
  .p-toast .p-toast-button-container {
    align-self: flex-start;
  }

  .ui-toast__close-button,
  .p-toast .p-toast-close-button {
    cursor: pointer;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    width: 2rem;
    height: 2rem;

    color: var(--ft-text-secondary);

    background: transparent;
    border: 1px solid transparent;
    border-radius: var(--ft-radius-md);

    transition:
      color var(--ft-transition-fast),
      background-color var(--ft-transition-fast),
      border-color var(--ft-transition-fast);
  }

  .ui-toast__close-button:hover,
  .p-toast .p-toast-close-button:hover {
    color: var(--ft-text-primary);
    background: var(--ft-surface-overlay);
    border-color: var(--ft-border-default);
  }

  .ui-toast__close-icon,
  .p-toast .p-toast-close-icon {
    width: 1rem;
    height: 1rem;
  }

  .ui-checkbox__root,
  .p-checkbox {
    position: relative;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    width: 1.25rem;
    height: 1.25rem;
  }

  .ui-checkbox__input,
  .p-checkbox .p-checkbox-input {
    cursor: pointer;

    position: absolute;
    inset: 0;

    margin: 0;

    opacity: 0;
  }

  .ui-checkbox__box,
  .p-checkbox .p-checkbox-box {
    display: grid;
    place-items: center;

    width: 1.25rem;
    height: 1.25rem;

    color: transparent;

    background: var(--ft-surface-base);
    border: 1px solid var(--ft-border-default);
    border-radius: var(--ft-radius-sm);

    transition:
      background-color var(--ft-transition-fast),
      border-color var(--ft-transition-fast),
      color var(--ft-transition-fast);
  }

  .ui-checkbox__icon,
  .p-checkbox .p-checkbox-icon {
    width: 0.85rem;
    height: 0.85rem;
  }

  .ui-checkbox__root[data-p-checked='true'] .ui-checkbox__box,
  .p-checkbox.p-checkbox-checked .p-checkbox-box {
    color: var(--ft-text-inverse);
    background: var(--ft-primary-500);
    border-color: var(--ft-primary-500);
  }

  .ui-checkbox__root[data-p-disabled='true'],
  .p-checkbox.p-disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  .ui-toggle-switch__root,
  .p-toggleswitch {
    cursor: pointer;

    position: relative;

    display: inline-flex;
    align-items: center;

    width: 2.5rem;
    height: 1.4rem;
  }

  .ui-toggle-switch__input,
  .p-toggleswitch .p-toggleswitch-input {
    cursor: pointer;

    position: absolute;
    z-index: var(--ft-z-above);
    inset: 0;

    margin: 0;

    opacity: 0;
  }

  .ui-toggle-switch__slider,
  .p-toggleswitch .p-toggleswitch-slider {
    pointer-events: none;

    position: relative;

    display: block;

    width: 2.5rem;
    height: 1.4rem;

    background: var(--ft-border-default);
    border-radius: var(--ft-radius-full);

    transition: background-color var(--ft-transition-fast);
  }

  .ui-toggle-switch__handle,
  .p-toggleswitch .p-toggleswitch-handle {
    pointer-events: none;

    position: absolute;
    top: 0.15rem;
    left: 0.15rem;

    width: 1.1rem;
    height: 1.1rem;

    background: var(--ft-surface-overlay);
    border-radius: var(--ft-radius-full);

    transition: transform var(--ft-transition-fast);
  }

  .ui-toggle-switch__root[data-p-checked='true'] .ui-toggle-switch__slider,
  .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {
    background: var(--ft-primary-500);
  }

  .ui-toggle-switch__root[data-p-checked='true'] .ui-toggle-switch__handle,
  .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {
    transform: translateX(1.1rem);
  }

  .ui-toggle-switch__root[data-p-disabled='true'],
  .p-toggleswitch.p-disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  .ui-toggle-switch__root[data-p-disabled='true'] .ui-toggle-switch__input,
  .p-toggleswitch.p-disabled .p-toggleswitch-input {
    cursor: not-allowed;
  }
}
