# FinTree — Актуальный TODO

_Обновлено: 2026-02-19_

## Как читать этот файл

- `P0` — критично, влияет на корректность данных и базовые сценарии пользователя.
- `P1` — важно, влияет на предсказуемость и качество продуктового UX.
- `P2` — улучшения UX/UI, не блокирующие базовую корректность.
- Для задач в этом файле новые автотесты не планируются; проверка выполняется вручную.

---

## P0 — Критичные задачи

- [x] `FT-TODO-001` Убрать механизм начального остатка из создания счета.  
  **Критерий приемки:** в форме создания счета отсутствует поле «Начальный остаток»; historical/legacy данные не мигрируются.  
  **Статус:** выполнено 2026-02-19.

- [x] `FT-TODO-002` Упростить ликвидность счетов и терминологию.  
  **Критерий приемки:** в создании счета отсутствует «Доступность средств»; дефолт ликвидности — `Bank=ликвидный`, `Brokerage/Crypto/Deposit=неликвидные`; после создания статус ликвидности можно менять.  
  **Статус:** выполнено 2026-02-19.

- [x] `FT-TODO-003` Исправить расчет общей доходности на странице Инвестиций.  
  **Критерий приемки:** общий `%` агрегируется по счетам взвешенно по текущей стоимости счетов в базовой валюте.  
  **Статус:** выполнено 2026-02-19.

---

## P1 — Важные продуктовые задачи

- [ ] `FT-TODO-004` Расширить существующую архивацию счетов на страницу Инвестиций.  
  **Критерий приемки:** в Инвестициях доступны действия архив/разархив; есть разделение активных и архивных счетов; метрики считаются по активным счетам.

- [ ] `FT-TODO-005` Провести полный редизайн фильтров через общий UI-слой.  
  **Критерий приемки:** единый визуальный и поведенческий паттерн фильтров на ключевых страницах без локальных расхождений.

- [ ] `FT-TODO-006` Сделать механизм корректировки счета очевидным для пользователя.  
  **Критерий приемки:** пояснение механики есть в точке входа (карточка счета) и в модальном окне корректировки.

- [ ] `FT-TODO-007` Провести полный редизайн/полиш календаря.  
  **Критерий приемки:** календарный компонент визуально и UX-сценарно согласован с design-system на mobile и desktop.

- [ ] `FT-TODO-008` Провести полный редизайн/полиш выпадающих списков.  
  **Критерий приемки:** select/dropdown не выбиваются из общего стиля и корректно работают в длинных списках.

- [ ] `FT-TODO-009` Пересобрать иконки категорий с учетом контекста доходов/расходов.  
  **Критерий приемки:** используются 2 curated-набора иконок (для доходов и для расходов) с фолбэком для старых значений.

---

## P2 — Улучшения UX/UI

- [ ] `FT-TODO-010` Сильно сократить и перекомпоновать лендинг.  
  **Критерий приемки:** лендинг построен по компактной структуре «hero + ключевые секции» без перегруза текстом.

---

## Важные интерфейсные/контрактные акценты

1. Использовать существующий архивный API/доменный механизм счетов (`/accounts/{id}/archive`, `/accounts/{id}/unarchive`) и расширить UI-поток на `/Users/nranenko/Desktop/Projects/FinTree/vue-app/src/pages/InvestmentsPage.vue`.
2. Обновить контракт создания счета в UI: убрать ввод начального остатка и выбор ликвидности из `/Users/nranenko/Desktop/Projects/FinTree/vue-app/src/components/AccountFormModal.vue`.
3. Системный редизайн делать через shared-слой: `/Users/nranenko/Desktop/Projects/FinTree/vue-app/src/ui/UiSelect.vue`, `/Users/nranenko/Desktop/Projects/FinTree/vue-app/src/ui/UiDatePicker.vue`, `/Users/nranenko/Desktop/Projects/FinTree/vue-app/src/styles/prime-unstyled-shared.css`.

---

## Сценарии проверки (без написания тестов)

1. Ручная проверка создания банковского и инвестиционного счета с новыми дефолтами ликвидности.
2. Ручная проверка корректности общей доходности на портфеле из нескольких счетов.
3. Ручная проверка архивации/разархивации инвестиционных счетов и пересчета метрик только по активным.
4. Ручная проверка фильтров/календаря/select на `360px`, `768px` и desktop.
5. Ручная проверка новой композиции лендинга на читаемость и длину текста.

---

## Assumptions

1. Новые автотесты не добавляются.
2. Механизм архивации счетов уже существует и переиспользуется на странице Инвестиций.
3. Исторические данные с «начальным остатком» остаются без миграции.
4. Приоритеты: сначала корректность модели счета и доходности, затем UX-редизайны.
